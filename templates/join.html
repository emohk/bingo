{% extends 'base.html' %}

{% block content %}
<div id="main-content" class="container mx-auto max-w-md mt-10 p-6 bg-white rounded shadow" x-data="{ playerName: '{{ player_name }}' }">
    <h2 class="text-2xl font-bold mb-4 text-center">Join a Bingo Game</h2>
    <input x-model="playerName" type="text" id="player_name" class="w-full border rounded px-3 py-2 mt-4 mb-2" placeholder="Enter Player Name" value="{{ player_name }}" maxlength="20">

    <button 
        hx-post="{% url 'join' %}"
        :hx-vals="JSON.stringify({player_name: playerName})"
        hx-target="#main-content" 
        hx-swap="outerHTML" 
        class="w-full bg-green-600 text-white py-2 rounded hover:bg-green-700 mb-4">
        Quick Play
    </button>

    <button 
        hx-post="{% url 'join' %}"
        hx-target="#main-content" 
        hx-swap="outerHTML"
        :hx-vals="JSON.stringify({player_name: playerName, create_new: true})"
        class="w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 mb-4">
        Create Game
    </button>

    <form method="post" hx-post="{% url 'join' %}" hx-target="#main-content" hx-swap="outerHTML">
        {% csrf_token %}
        <input type="hidden" name="player_name" :value="playerName" maxlength="20">
        <input type="text" name="game_code" class="w-full border rounded px-3 py-2 mb-2" placeholder="Enter Game Code" maxlength="8">
        <button type="submit" class="w-full bg-gray-600 text-white py-2 rounded hover:bg-gray-700">Join Game</button>
    </form>
</div>
{% endblock %}
